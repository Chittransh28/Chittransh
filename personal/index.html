<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Personal Tracker</title>
  <link rel="stylesheet" href="./styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div id="app" class="app-root">
    <!-- HEADER -->
    <header class="topbar card fade-in">
      <div class="brand">Personal Tracker</div>
      <div class="right">
        <div id="online-indicator" class="online">Offline</div>
        <div id="user-email" class="muted small"></div>
      </div>
    </header>

    <!-- MAIN -->
    <main class="container">
      <!-- AUTH SCREEN -->
      <section id="auth-screen" class="card fade-in">
        <h2>Sign In / Register</h2>
        <div class="grid cols-2 gap">
          <div>
            <label>Email</label>
            <input id="email" class="input" type="email" placeholder="you@example.com" />
          </div>
          <div>
            <label>Password</label>
            <input id="password" class="input" type="password" placeholder="••••••••" />
          </div>
        </div>
        <div class="row gap mt-sm">
          <button id="btn-signin" class="btn">Sign in</button>
          <button id="btn-register" class="btn ghost">Register</button>
          <button id="btn-reset" class="btn ghost">Reset password</button>
        </div>
        <div id="auth-message" class="small muted mt-sm"></div>
      </section>

      <!-- APP SCREEN -->
      <section id="app-screen" class="hidden fade-in">
        <div class="toolbar card mt fade-in-up">
          <div class="row gap">
            <div>
              <label>Day split</label>
              <select id="day-split" class="input">
                <option>Back+Biceps</option>
                <option>Chest+Triceps</option>
                <option>Legs+Shoulders</option>
                <option>Other</option>
              </select>
            </div>
            <div>
              <label>Variation</label>
              <select id="variation" class="input"><option>V1</option><option>V2</option></select>
            </div>
            <div>
              <button id="start-live" class="btn">Start Live</button>
              <button id="add-past" class="btn ghost">Add Past</button>
            </div>
          </div>
        </div>

        <div id="main-grid" class="mt">
          <!-- HISTORY + TEMPLATES -->
          <div id="left-column">
            <div id="history" class="card fade-in-up">
              <div class="row space-between">
                <h3>History</h3>
                <div class="row gap">
                  <input id="search-ex" class="input small" placeholder="Search exercise..." />
                  <button id="load-more" class="btn ghost small">Load more</button>
                </div>
              </div>
              <div id="history-list" class="stack mt-sm"></div>
            </div>

            <div id="templates" class="card mt fade-in-up">
              <div class="row space-between">
                <h4>Templates</h4>
                <div class="row gap">
                  <button id="create-template" class="btn ghost">Create</button>
                  <button id="import-json" class="btn ghost">Import</button>
                  <input id="import-file" type="file" accept="application/json" style="display:none" />
                </div>
              </div>
              <div id="template-list" class="stack mt-sm"></div>
            </div>
          </div>

          <!-- LIVE WORKOUT + PROGRESS -->
          <div id="right-column">
            <div id="live-workout" class="card hidden fade-in-up">
              <div class="row space-between">
                <h3 id="live-title">Active Workout</h3>
                <div class="row gap">
                  <div id="timer" class="muted small">00:00</div>
                  <button id="finish" class="btn">Finish</button>
                  <button id="cancel" class="btn ghost">Cancel</button>
                </div>
              </div>
              <div id="exercises-container" class="stack mt-sm"></div>
              <div class="row gap mt-sm">
                <button id="add-ex-btn" class="btn ghost">+ Exercise</button>
                <button id="save-now" class="btn">Save</button>
              </div>
            </div>

            <div id="progress" class="card mt fade-in-up">
              <h3>Progress</h3>
              <div class="row gap mt-sm">
                <select id="chart-ex" class="input small"></select>
                <canvas id="chart" height="160"></canvas>
              </div>
              <div id="recent-maxes" class="mt-sm"></div>
            </div>
          </div>
        </div>

        <div class="mt fade-in-up">
          <button id="signout" class="btn ghost">Sign out</button>
          <button id="export-json" class="btn ghost">Export JSON</button>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer class="footer muted">Personal Tracker · Built for your gym</footer>
  </div>

  <div id="modal-root"></div>
  <script type="module" src="./app.js"></script>
</body>
</html>
